<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>购物车</title>
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/static/css/index.css"/>
<style>
    .quentity input{
        width: 40px;
        padding: 5px 10px;
        text-align: center;
    }
</style>
</head>

<body class="checkout">
<include file="public/head"/>
<include file="public/indexhead"/>
    <div id="app">
            <if condition="$Think.session.user_id eq '' ">
                <div style="width: 100%;height: 50px;background-color: red">你还没有登录！请先登录后提交订单！<a>登录</a></div>

            </if>

            <if condition="$Think.session.goods neq ''">
                <div class="container">
                    <div class="cart">
                        <div class="checkout-title">
                            <span>查看购物车</span>
                        </div>

                        <!--商品信息-->
                        <div class="item-list-wrap">
                            <div class="cart-item">
                                <div class="cart-item-head">
                                    <ul>
                                        <li>商品名称</li>
                                        <li>商品规格名字</li>
                                        <li>商品数量</li>
                                        <li>金额</li>
                                        <li>操作</li>
                                    </ul>
                                </div>
                                <!--商品列表信息-->

                                <ul class="cart-item-list">
                                    <foreach name="carlist" key="k1" item="v1">
                                        <li> <td><img src="{$v1.img}" style="width: 100px;height: 100px;">{$v1.goods_name}</td>
                                            <td>{$v1.key_name}</td>
                                            <td>{$v1.num}</td>

                                            <td>删除</td>
                                            <div class="cart-tab-1">
                                                <div class="cart-item-check">

                                                    <a href="javascript:;" class="item-check-btn">
                                                        {$v1.goods_name}
                                                    </a>
                                                </div>
                                                <!--图片-->
                                                <div class="cart-item-pic">
                                                    <img  v-bind:src="item.productImage" alt="">
                                                    <img src="{$v1.img}" >
                                                    <!--<img src="{{item.productImage}}" alt=""> 会在浏览器加载时 vue实例没有渲染完是，把它当作图片路径来加载-->
                                                </div>
                                                <!--图片后面的文字-->
                                                <div class="cart-item-title">
                                                    <div class="item-name">
                                                        {$v1.goods_name}
                                                    </div>
                                                </div>
                                                <!-- 赠送-->
                                                <div class="item-include">
                                                    <dl>
                                                        <dt>赠送</dt>
                                                        <dd >111</dd>
                                                    </dl>
                                                </div>
                                            </div>
                                            <!--第二列-->
                                            <div class="cart-tab-2">
                                                <!-- 过滤器的使用方法 | 加方法 -->
                                                <div class="item-price"> {{ item.productPrice | formatMoney }}</div>
                                            </div>
                                            <!--第三列-->
                                            <div class="cart-tab-3">
                                                <div class="item-quantity">
                                                    <div class="select-self select-self-open">
                                                        <div class="quentity">
                                                            <!-- 绑定事件 v-on：click 也可以 @click
                                                            调用方法的同时 我们需要把商品的对象传递过去 item
                                                             第二个参数 -1 减 1 加
                                                            -->
                                                            <a href="javascript:;" v-on:click=" changeMoney(item,-1)"> - </a>
                                                            <!--文本框 放入当前商品数量 v-model   -->
                                                            <input type="text" disabled v-model="item.productQuentity">
                                                            <a href="javascript:; " @click=" changeMoney(item,1) "> + </a>
                                                        </div>
                                                    </div>
                                                    <div class="item-stock"> 有货 </div>
                                                </div>
                                            </div>
                                            <!--第四列-->
                                            <div class="cart-tab-4">
                                                <!-- 总金额是当前的单价乘以商品总数-->
                                                <div class="item-price-total">{{item.productPrice*item.productQuentity | formatMoney}}</div>

                                            </div>
                                            <!--第五列-->
                                            <div class="cart-tab-5">
                                                <div class="cart-item-opration">
                                                    <a href="javascript:;" class="item-edit-btn" @click="delConfirm(item)">
                                                        <svg class="icon icon-del"><use xlink:href="#icon-del"></use></svg>
                                                    </a>
                                                </div>
                                            </div>

                                        </li>


                                    </foreach>

                                </ul>
                            </div>
                        </div>

                        <!--footer-->
                        <div class="cart-foot-wrap">
                            <!--footer 左边的-->
                            <div class="cart-foot-l">
                                <div class="item-all-check">
                                    <a href="javascript:;">
                                        <!--v-bind:class 的简写  :class-->
                                        <span class="item-check-btn" :class="{'check': checkAllFlag}" @click="checkAll(true)">
                                <svg class="icon icon-ok"><use xlink:href="#icon-ok"></use></svg>
                            </span>
                                        <span @click="checkAll(true)"> 全选 </span>
                                    </a>
                                </div>
                                <div class="item-all-del">
                                    <a href="javascript:;" @click="checkAll(false)"> 取消全选</a>
                                </div>
                            </div>
                            <!--footer 右边的-->
                            <div class="cart-foot-r">
                                <div class="item-total">
                                    总价：<span class="total-price"> {{ totalMoney }}</span>
                                </div>
                                <div  class="next-btn-wrap">
                                    <a href="address.html" class="btn btn--red" > 结账 </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <h1>查看购物车</h1>
                <table width="100%" border="1"cellspacing="0" cellpadding="0">
                    <!--<tr>-->
                        <!--<td>商品名称</td>-->
                        <!--<td>商品规格名字</td>-->
                        <!--<td>商品数量</td>-->
                        <!--<td>操作</td>-->
                    <!--</tr>-->


                    <!--<foreach name="carlist" key="k1" item="v1">-->
                        <!--<tr>-->
                            <!--<td><img src="{$v1.img}" style="width: 100px;height: 100px;">{$v1.goods_name}</td>-->
                            <!--<td>{$v1.key_name}</td>-->
                            <!--<td>{$v1.num}</td>-->

                            <!--<td>删除</td>-->
                        <!--</tr>-->
                    <!--</foreach>-->
                           <tr>
                            <td>
                                <a href="javascript:void(0)">提交订单</a>
                            </td>
                           </tr>

                    <else/>
                    <h2>购物车里没有商品，请前去添加</h2>


                </table>
            </if>

    </div>
<include file="public/footer"/>
</body>
</html>